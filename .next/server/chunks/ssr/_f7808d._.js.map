{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/rajmotwani/Downloads/wealth-ai-app/app/%28main%29/dashboard/page.jsx"],"sourcesContent":["import { Suspense } from \"react\";\nimport { getUserAccounts } from \"@/actions/dashboard\";\nimport { getDashboardData } from \"@/actions/dashboard\";\nimport { getCurrentBudget } from \"@/actions/budget\";\nimport { AccountCard } from \"./_components/account-card\";\nimport { CreateAccountDrawer } from \"@/components/create-account-drawer\";\nimport { BudgetProgress } from \"./_components/budget-progress\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Plus } from \"lucide-react\";\nimport { DashboardOverview } from \"./_components/transaction-overview\";\n\nexport default async function DashboardPage() {\n  const [accounts, transactions] = await Promise.all([\n    getUserAccounts(),\n    getDashboardData(),\n  ]);\n\n  const defaultAccount = accounts?.find((account) => account.isDefault);\n\n  // Get budget for default account\n  let budgetData = null;\n  if (defaultAccount) {\n    budgetData = await getCurrentBudget(defaultAccount.id);\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Budget Progress */}\n      <BudgetProgress\n        initialBudget={budgetData?.budget}\n        currentExpenses={budgetData?.currentExpenses || 0}\n      />\n\n      {/* Dashboard Overview */}\n      <DashboardOverview\n        accounts={accounts}\n        transactions={transactions || []}\n      />\n\n      {/* Accounts Grid */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        <CreateAccountDrawer>\n          <Card className=\"hover:shadow-md transition-shadow cursor-pointer border-dashed\">\n            <CardContent className=\"flex flex-col items-center justify-center text-muted-foreground h-full pt-5\">\n              <Plus className=\"h-10 w-10 mb-2\" />\n              <p className=\"text-sm font-medium\">Add New Account</p>\n            </CardContent>\n          </Card>\n        </CreateAccountDrawer>\n        {accounts.length > 0 &&\n          accounts?.map((account) => (\n            <AccountCard key={account.id} account={account} />\n          ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AADA;;;;;;;;;;;;AAGe,eAAe;IAC5B,MAAM,CAAC,UAAU,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;QACjD,CAAA,GAAA,oHAAA,CAAA,kBAAe,AAAD;QACd,CAAA,GAAA,oHAAA,CAAA,mBAAgB,AAAD;KAChB;IAED,MAAM,iBAAiB,UAAU,KAAK,CAAC,UAAY,QAAQ,SAAS;IAEpE,iCAAiC;IACjC,IAAI,aAAa;IACjB,IAAI,gBAAgB;QAClB,aAAa,MAAM,CAAA,GAAA,iHAAA,CAAA,mBAAgB,AAAD,EAAE,eAAe,EAAE;IACvD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,kKAAA,CAAA,iBAAc;gBACb,eAAe,YAAY;gBAC3B,iBAAiB,YAAY,mBAAmB;;;;;;0BAIlD,8OAAC,uKAAA,CAAA,oBAAiB;gBAChB,UAAU;gBACV,cAAc,gBAAgB,EAAE;;;;;;0BAIlC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0IAAA,CAAA,sBAAmB;kCAClB,cAAA,8OAAC,yHAAA,CAAA,OAAI;4BAAC,WAAU;sCACd,cAAA,8OAAC,yHAAA,CAAA,cAAW;gCAAC,WAAU;;kDACrB,8OAAC,kMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;kDAChB,8OAAC;wCAAE,WAAU;kDAAsB;;;;;;;;;;;;;;;;;;;;;;oBAIxC,SAAS,MAAM,GAAG,KACjB,UAAU,IAAI,CAAC,wBACb,8OAAC,+JAAA,CAAA,cAAW;4BAAkB,SAAS;2BAArB,QAAQ,EAAE;;;;;;;;;;;;;;;;;AAKxC"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///Users/rajmotwani/Downloads/wealth-ai-app/actions/account.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/prisma\";\nimport { auth } from \"@clerk/nextjs/server\";\nimport { revalidatePath } from \"next/cache\";\n\nconst serializeDecimal = (obj) => {\n  const serialized = { ...obj };\n  if (obj.balance) {\n    serialized.balance = obj.balance.toNumber();\n  }\n  if (obj.amount) {\n    serialized.amount = obj.amount.toNumber();\n  }\n  return serialized;\n};\n\nexport async function getAccountWithTransactions(accountId) {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  const account = await db.account.findUnique({\n    where: {\n      id: accountId,\n      userId: user.id,\n    },\n    include: {\n      transactions: {\n        orderBy: { date: \"desc\" },\n      },\n      _count: {\n        select: { transactions: true },\n      },\n    },\n  });\n\n  if (!account) return null;\n\n  return {\n    ...serializeDecimal(account),\n    transactions: account.transactions.map(serializeDecimal),\n  };\n}\n\nexport async function bulkDeleteTransactions(transactionIds) {\n  try {\n    const { userId } = await auth();\n    if (!userId) throw new Error(\"Unauthorized\");\n\n    const user = await db.user.findUnique({\n      where: { clerkUserId: userId },\n    });\n\n    if (!user) throw new Error(\"User not found\");\n\n    // Get transactions to calculate balance changes\n    const transactions = await db.transaction.findMany({\n      where: {\n        id: { in: transactionIds },\n        userId: user.id,\n      },\n    });\n\n    // Group transactions by account to update balances\n    const accountBalanceChanges = transactions.reduce((acc, transaction) => {\n      const change =\n        transaction.type === \"EXPENSE\"\n          ? transaction.amount\n          : -transaction.amount;\n      acc[transaction.accountId] = (acc[transaction.accountId] || 0) + change;\n      return acc;\n    }, {});\n\n    // Delete transactions and update account balances in a transaction\n    await db.$transaction(async (tx) => {\n      // Delete transactions\n      await tx.transaction.deleteMany({\n        where: {\n          id: { in: transactionIds },\n          userId: user.id,\n        },\n      });\n\n      // Update account balances\n      for (const [accountId, balanceChange] of Object.entries(\n        accountBalanceChanges\n      )) {\n        await tx.account.update({\n          where: { id: accountId },\n          data: {\n            balance: {\n              increment: balanceChange,\n            },\n          },\n        });\n      }\n    });\n\n    revalidatePath(\"/dashboard\");\n    revalidatePath(\"/account/[id]\");\n\n    return { success: true };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n}\n\nexport async function updateDefaultAccount(accountId) {\n  try {\n    const { userId } = await auth();\n    if (!userId) throw new Error(\"Unauthorized\");\n\n    const user = await db.user.findUnique({\n      where: { clerkUserId: userId },\n    });\n\n    if (!user) {\n      throw new Error(\"User not found\");\n    }\n\n    // First, unset any existing default account\n    await db.account.updateMany({\n      where: {\n        userId: user.id,\n        isDefault: true,\n      },\n      data: { isDefault: false },\n    });\n\n    // Then set the new default account\n    const account = await db.account.update({\n      where: {\n        id: accountId,\n        userId: user.id,\n      },\n      data: { isDefault: true },\n    });\n\n    revalidatePath(\"/dashboard\");\n    return { success: true, data: serializeTransaction(account) };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///Users/rajmotwani/Downloads/wealth-ai-app/node_modules/next/dist/src/build/templates/app-page.ts"],"sourcesContent":["import type { LoaderTree } from '../../server/lib/app-dir-module'\nimport { AppPageRouteModule } from '../../server/route-modules/app-page/module.compiled' with { 'turbopack-transition': 'next-ssr' }\nimport { RouteKind } from '../../server/route-kind'\n\n// These are injected by the loader afterwards.\n\n/**\n * The tree created in next-app-loader that holds component segments and modules\n * and I've updated it.\n */\ndeclare const tree: LoaderTree\ndeclare const pages: any\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\n// INJECT:tree\n// INJECT:pages\n\nexport { tree, pages }\n\nexport { default as GlobalError } from 'VAR_MODULE_GLOBAL_ERROR'\n\n// These are injected by the loader afterwards.\ndeclare const __next_app_require__: any\ndeclare const __next_app_load_chunk__: any\n\n// INJECT:__next_app_require__\n// INJECT:__next_app_load_chunk__\n\nexport const __next_app__ = {\n  require: __next_app_require__,\n  loadChunk: __next_app_load_chunk__,\n}\n\nexport * from '../../server/app-render/entry-base'\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n  definition: {\n    kind: RouteKind.APP_PAGE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n    appPaths: [],\n  },\n  userland: {\n    loaderTree: tree,\n  },\n})\n"],"names":["AppPageRouteModule","RouteKind","tree","pages","default","GlobalError","__next_app__","require","__next_app_require__","loadChunk","__next_app_load_chunk__","routeModule","definition","kind","APP_PAGE","page","pathname","bundlePath","filename","appPaths","userland","loaderTree"],"mappings":";;;;;;AA0BA,8BAA8B;AAR9B,SAASE,IAAI,EAAEC,KAAK,GAAE;AALtB,yEAAyE;AAEzE,cAAc;AAdd,SAASH,kBAAkB,QAAQ,2DAA2D;AAAqC,EAAC;AA4BpI,OAAO,MAAMM,eAAe;AAG5B,EAAC;;;;;;;;;AAED,cAAc,qCAAoC,sBAAA;AAElD,UAAA,kDAA4D;AAC5D,MAAA,CAAO,MAAMK;IAAAA;IAAAA,SAAc,IAAIX,mBAAmB;YAChDY,QAAAA;YAAAA,GAAY;YAAA;wBACVC,IAAAA;oBAAAA,CAAMZ,UAAUa;oBAAAA,MAAQ;gCACxBC,IAAAA;4BAAAA,CAAM;4BAAA;iCACNC,UAAU;sCACV,IAAA,CAAA;gCAAA,QAAA;oCAAA,IAAA,iBAA2C;oCAAA;iCAAA;;+BAC3CC,YAAY;;yBACZC,UAAU;8BACVC,IAAAA,CAAAA,GAAU;wBAAA,CAAE,SAAA;4BAAA,IAAA;4BAAA;yBAAA;;mBACd;;aACAC,UAAU;sBACRC,IAAAA,CAAAA;gBAAAA,CAAYnB,SAAAA;oBAAAA,IAAAA;oBAAAA;iBAAAA;kBACd,WAAA;oBAAA,IAAA;oBAAA;iBAAA;YACF;SAAA,CAAE","ignoreList":[0]}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":["file:///Users/rajmotwani/Downloads/wealth-ai-app/node_modules/%40clerk/nextjs/dist/esm/app-router/server-actions.js"],"sourcesContent":["\"use server\";\nimport { cookies } from \"next/headers\";\nasync function invalidateCacheAction() {\n  void (await cookies()).delete(`__clerk_invalidate_cache_cookie_${Date.now()}`);\n}\nexport {\n  invalidateCacheAction\n};\n"],"names":[],"mappings":";;;;;AACA;;;;;AACA,eAAe;IACb,KAAK,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,MAAM,CAAC,CAAC,gCAAgC,EAAE,KAAK,GAAG,IAAI;AAC/E;;;;IAEE;;AAAA,+OAAA","ignoreList":[0]}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 563, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}